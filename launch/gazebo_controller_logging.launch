<launch>

<arg name="path_type" />
<arg name="velocity_fwd" />
<arg name="duration" />
<arg name="path_data_logging" />

<!-- initialize controller -->
<node name="turtlebot_controller" pkg="turtlebot_trajectory_controller" type="trajectory_controller_node" output="screen" args="" >
    <remap from="odom" to="visual/odom"/>
</node>

<!--  -->
<node name="turtlebot_trajectory_testing" pkg="turtlebot_trajectory_testing" type="send_test_trajectory" output="screen" args="_fw_vel:=$(arg velocity_fwd) _waypoint_yaml:=/home/yipuzhao/catkin_ws/src/turtlebot_trajectory_testing/config/$(arg path_type).yaml _duration:=$(arg duration)" >
</node>

<!-- initialize rosbag recording -->
<node name="data_logging" type="record" pkg="rosbag" args="/visual/odom /odom_sparse /ground_truth/state /ORB_SLAM/camera_pose_in_imu /desired_path /turtlebot_controller/trajectory_controller/desired_trajectory -O $(arg path_data_logging).bag">
</node>

</launch>
